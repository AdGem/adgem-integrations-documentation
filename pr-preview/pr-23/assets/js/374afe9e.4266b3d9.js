"use strict";(self.webpackChunkadgem_integrations_documentation=self.webpackChunkadgem_integrations_documentation||[]).push([[9385],{28453:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>c});var s=r(96540);const i={},t=s.createContext(i);function d(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(t.Provider,{value:n},e.children)}},51319:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"integrations/targeted-api/tokens","title":"Tokens","description":"The /v1/apps/tokens endpoint allows you to obtain a JWT access token using your application credentials.","source":"@site/docs/integrations/targeted-api/tokens.mdx","sourceDirName":"integrations/targeted-api","slug":"/integrations/targeted-api/tokens","permalink":"/adgem-integrations-documentation/pr-preview/pr-23/docs/integrations/targeted-api/tokens","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"tokens","title":"Tokens","sidebar_position":3},"sidebar":"mainSidebar","previous":{"title":"Authentication","permalink":"/adgem-integrations-documentation/pr-preview/pr-23/docs/integrations/targeted-api/authentication"},"next":{"title":"FAQ","permalink":"/adgem-integrations-documentation/pr-preview/pr-23/docs/integrations/targeted-api/faq"}}');var i=r(74848),t=r(28453);const d={id:"tokens",title:"Tokens",sidebar_position:3},c="Tokens",o={},l=[{value:"Endpoint",id:"endpoint",level:2},{value:"Request",id:"request",level:2},{value:"Headers",id:"headers",level:3},{value:"Body Parameters",id:"body-parameters",level:3},{value:"Example Request",id:"example-request",level:3},{value:"Response",id:"response",level:2},{value:"Success Response (200 OK)",id:"success-response-200-ok",level:3},{value:"Error Responses",id:"error-responses",level:3},{value:"401 Unauthorized",id:"401-unauthorized",level:4},{value:"500 Internal Server Error",id:"500-internal-server-error",level:4},{value:"Usage",id:"usage",level:2},{value:"Token Lifecycle",id:"token-lifecycle",level:2},{value:"See Also",id:"see-also",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"tokens",children:"Tokens"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"/v1/apps/tokens"})," endpoint allows you to obtain a JWT access token using your application credentials."]}),"\n",(0,i.jsx)(n.h2,{id:"endpoint",children:"Endpoint"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"POST https://targeted-api.adgem.com/v1/apps/tokens\n"})}),"\n",(0,i.jsx)(n.h2,{id:"request",children:"Request"}),"\n",(0,i.jsx)(n.h3,{id:"headers",children:"Headers"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Header"}),(0,i.jsx)(n.th,{children:"Value"}),(0,i.jsx)(n.th,{children:"Required"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Content-Type"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"application/json"})}),(0,i.jsx)(n.td,{children:"Yes"})]})})]}),"\n",(0,i.jsx)(n.h3,{id:"body-parameters",children:"Body Parameters"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"adgem_pub_id"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"integer"})}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Your AdGem publisher identifier"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"adgem_app_id"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"integer"})}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Your AdGem application identifier"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"client_id"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Your application's client identifier"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"client_secret"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"Your application's client secret"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"example-request",children:"Example Request"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST https://targeted-api.adgem.com/v1/apps/tokens \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "adgem_pub_id": 0,\n    "adgem_app_id": 0,\n    "client_id": "your-client-id",\n    "client_secret": "your-client-secret"\n  }\'\n'})}),"\n",(0,i.jsx)(n.h2,{id:"response",children:"Response"}),"\n",(0,i.jsx)(n.h3,{id:"success-response-200-ok",children:"Success Response (200 OK)"}),"\n",(0,i.jsx)(n.p,{children:"When the credentials are valid, the API returns a JWT access token:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "access_token": "<your-jwt-token>",\n  "token_type": "Bearer",\n  "expires_in": 3600\n}\n'})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"access_token"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"The JWT token to use in subsequent requests"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"token_type"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsxs)(n.td,{children:["The type of token (always ",(0,i.jsx)(n.code,{children:"Bearer"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"expires_in"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"integer"})}),(0,i.jsx)(n.td,{children:"Token validity duration in seconds"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"error-responses",children:"Error Responses"}),"\n",(0,i.jsx)(n.h4,{id:"401-unauthorized",children:"401 Unauthorized"}),"\n",(0,i.jsx)(n.p,{children:"Returned when the provided credentials are invalid."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "error": "invalid_client",\n  "error_description": "Invalid client credentials"\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"500-internal-server-error",children:"500 Internal Server Error"}),"\n",(0,i.jsx)(n.p,{children:"Returned when an unexpected error occurs during token generation."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "error": "server_error",\n  "error_description": "An unexpected error occurred"\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsxs)(n.p,{children:["Once you have obtained the access token, include it in the ",(0,i.jsx)(n.code,{children:"Authorization"})," header of all requests to the Targeted API:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST https://targeted-api.adgem.com/v1/offers \\\n  -H "Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9..." \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "query": "{ offers(player_id: \\"user123\\") { id name total_payout_usd } }"\n  }\'\n'})}),"\n",(0,i.jsx)(n.h2,{id:"token-lifecycle",children:"Token Lifecycle"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Request"})," - Call ",(0,i.jsx)(n.code,{children:"/v1/apps/tokens"})," with your credentials"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Receive"})," - Store the ",(0,i.jsx)(n.code,{children:"access_token"})," from the response"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use"})," - Include the token in the ",(0,i.jsx)(n.code,{children:"Authorization"})," header"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Refresh"})," - When you receive a ",(0,i.jsx)(n.code,{children:"401"})," response, request a new token"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./authentication",children:"Authentication Guide"})," - Complete overview of the authentication flow"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./operations/queries/offers",children:"Offers Query"})," - Query targeted offers using your token"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);