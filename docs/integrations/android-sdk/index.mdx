---
sidebar_position: 1
title: Android SDK
description: Integrate the AdGem Offer Wall into your Android application using the native Android SDK.
---

# Android SDK Integration Guide

import DeprecationNotice from '@site/src/components/DeprecationNotice';
import BeforeYouBegin from '@site/docs/_partials/before-you-begin.mdx';
import PlayerIdRequirements from '@site/docs/_partials/player-id-requirements.mdx';
import CreateAppProperty from '@site/docs/_partials/sdk-step0-create-app.mdx';

<DeprecationNotice
  deadline="July 1, 2025"
  currentVersion="v4.0.3"
  platform="Android"
/>

## Requirements

<BeforeYouBegin />

:::tip Unity Games
Is your Android game built in Unity? We strongly recommend integrating the [AdGem Unity SDK](/docs/integrations/unity-sdk) for both Android and iOS games built with Unity.
:::

:::info Google Play Services
It is not required, but in order for the SDK to fetch the Google Advertising ID, [Google Play Services](https://developers.google.com/android/guides/setup) should be set up within your app. Having the Google Advertising ID available will improve conversion rates and increase your revenue potential.
:::

---

## Integration

### Step 0. Create an App Property in the AdGem Publisher Dashboard

<CreateAppProperty />

### Step 1. Install the AdGem SDK into your Android Project

#### Gradle Installation

To install via Gradle, add the following to your application's `build.gradle`:

```groovy
dependencies {
  implementation 'com.adgem:adgem-android:4.0.3'
}
```

#### Maven Installation

Or integrate the Android SDK into your Android Studio Project with Maven by adding the following code to your application's `build.maven`:

```xml
<dependency>
  <groupId>com.adgem</groupId>
  <artifactId>adgem-android</artifactId>
  <version>4.0.3</version>
  <type>pom</type>
</dependency>
```

#### Compile Options

In either case, add the following compile options to your application's `build.gradle`:

```groovy
compileOptions {
  sourceCompatibility JavaVersion.VERSION_11
  targetCompatibility JavaVersion.VERSION_11
}
```

#### R8/ProGuard Configurations

All necessary R8 or ProGuard configurations are automatically supplied by the library. **There are no additional configurations needed**.

### Step 2. Configure the AdGem SDK

1. Create a new XML resource file called `adgem_config.xml` within the `res/xml` resource directory. If the `xml` directory does not exist, please create it.

Once you have created the `adgem_config.xml` file, paste in the following code:

```xml
<adgem-configuration
    applicationId="ADGEM_APP_ID"
    offerwallEnabled="true|false"
    lockOrientation="true|false"/>
```

2. Update the XML in `adgem_config.xml` replacing **ADGEM_APP_ID** with your actual AdGem App ID defined in the [AdGem Publisher Dashboard](https://dashboard.adgem.com/publisher/dashboard) > [Properties & Apps](https://dashboard.adgem.com/publisher/apps).

Next, update the `offerwallEnabled` boolean value in the `adgem_config.xml`. By default, it is set to false.

Optionally, you may also lock the orientation of the ads by setting `lockOrientation` to true (by default it is set to false).

3. Add the following tag to the `<application>` in the `AndroidManifest.xml`:

```xml
<meta-data android:name="com.adgem.Config"
    android:resource="@xml/adgem_config"/>
```

### Step 3. Use the AdGem Class

All communication with the SDK happens via the AdGem class. Within your application's main or first Activity class, add the following line of code:

```java
AdGem adgem = AdGem.get();
```

:::note
There is no need to store an instance of AdGem globally. The SDK will cache its instance on the first call and will always return the same one for all subsequent calls to `AdGem.get()`.
:::

Use the AdGem class to show the Offer Wall in your project:

```java
adGem.showOfferwall(); // Show Offer Wall
```

### Step 4. Register the AdGem Offer Wall Callback

The AdGem SDK provides callbacks that notify when offer wall internal state changes.

```java
OfferwallCallback callback = new OfferwallCallback() {
    @Override
    public void onOfferwallLoadingStarted() {
        // Notifies that the offer wall loading has started.
    }

    @Override
    public void onOfferwallLoadingFinished() {
        // Notifies that the offer wall has been loaded.
    }

    @Override
    public void onOfferwallLoadingFailed(String error) {
        // Notifies that the offer wall has failed to load.
    }

    @Override
    public void onOfferwallRewardReceived(int amount) {
        // Notifies that the user has completed an action and should be rewarded with a specified virtual currency amount.
    }

    @Override
    public void onOfferwallClosed() {
        // Notifies that the offer wall was closed.
    }
};
```

Offer wall callback may be registered through the instance of `AdGem`:

```java
AdGem adgem = AdGem.get();
adgem.registerOfferwallCallback(callback);
```

Once registered, a callback will be used to deliver offer wall updates.

:::warning Important
AdGem will hold a strong reference to a callback. It is the caller's responsibility to unregister it. For example, if a callback is being registered in activity's `onCreate()` then it must be unregistered in the corresponding `onDestroy()` call.
:::

```java
public class GameActivity extends AppCompatActivity {
    private AdGem adGem;

    @Override
    protected void onCreate(@Nullable Bundle savedInstanceState) {
        ...
        adGem = AdGem.get();
        adGem.registerOfferwallCallback(callback);
        ...
    }

    @Override
    protected void onDestroy() {
        ...
        adGem.unregisterOfferwallCallback(callback);
        ...
    }
}
```

Offer Wall can be displayed by calling `adGem.showOfferwall(activity)`.

### Step 5. Set the Player ID

<PlayerIdRequirements />

```java
PlayerMetadata player = PlayerMetadata.Builder.createWithPlayerId("myPlayerId")
  .age(23)
  .iapTotalUsd(10)
  .level(4)
  .placement(2)
  .isPayer(true)
  .gender(PlayerMetadata.Gender.FEMALE)
  .createdAt("2018-11-16 06:23:19.07")
  .customField1("custom_field_1")
  .customField2("custom_field_2")
  .customField3("custom_field_3")
  .customField4("custom_field_4")
  .customField5("custom_field_5")
  .build();

adgem.setPlayerMetaData(player);
```

---

## Additional Information

### Example App

For an example integration, please take a look at the sample app [source code](https://github.com/AdGem/Android-Example) available on GitHub and a working [sample app](https://play.google.com/store/apps/details?id=com.adgem.android.example) on Google Play.

### Optional Parameters

:::note
All parameter names and their values are case-sensitive.
:::

The AdGem Android SDK allows for several optional parameter values to be stored such as age, gender, etc. These values can then be retrieved again on each conversion postback and used to segment your audiences and optimize your mobile ad revenue earnings. Please visit the [Optional Parameters](/docs/integrations/android-sdk/optional-parameters) to learn more.

### Postback Setup

If you have opted for a "Server Postback", on each successful offer completion by a user AdGem will send a GET request to your server. Please visit our guide on [Server Postback Setup](/docs/webhooks) to learn more.

:::tip ProGuard Configuration
If your code reads `proguardFiles getDefaultProguardFile('proguard-android-optimize')` in place, please change the code to `getDefaultProguardFile('proguard-android.txt')` instead. This will ensure that your App will be able to launch with the AdGem SDK enabled.
:::

---

*Updated on May 19, 2025*
